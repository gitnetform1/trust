(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"10d77eec67fae546491c":function(e,t,n){var s=n("510fb95620a33a5d88cc"),a=n("16a346fb98e77e68d4f7").trim,i=n("6172cd42c218285b94ad"),c=s.parseInt,o=/^[+-]?0[Xx]/,r=8!==c(i+"08")||22!==c(i+"0x16");e.exports=r?function(e,t){var n=a(String(e));return c(n,t>>>0||(o.test(n)?16:10))}:c},"21f13b043facf1c098ab":function(e,t,n){n("231e5761d73f1f6ae802");var s=n("5947acb45f9b09f3c333");e.exports=s.parseInt},"231e5761d73f1f6ae802":function(e,t,n){var s=n("a4f21fa2e553519c2a7a"),a=n("10d77eec67fae546491c");s({global:!0,forced:parseInt!=a},{parseInt:a})},"549a709a8f94b14e0e58":function(e,t,n){e.exports=n("cba4fb50007f3a58b265")},"5b0d216c209c8398b2bf":function(e,t,n){"use strict";n.r(t);var s=n("5f95f5d90d238fa0d86a"),a=n.n(s),i=n("c8c4de41a952f93b8bf9"),c=n.n(i),o=n("9d0a762c68b04db80a58"),r=n.n(o),l=n("e026a4a5eab83117dbc9"),u=n.n(l),d=n("1495cbcf66b387f322bd"),p=n.n(d),h=n("ac984996a79308ebe69c"),f=n.n(h),v=n("dd78d97984a35d590f30"),b=n.n(v),k=n("4f9eb88e2b98053d0224"),g=n.n(k),y=n("8613a2facb3a2b838c4c"),m=n.n(y),O=n("a24b5f2378113a79e775"),x=n.n(O),E=(n("279c0f0c00aa45d41952"),n("4388ce4b8eca04d4217f")),w=n.n(E),S=n("c941771c892f8eea9763"),I=n.n(S),L=13,M=27,A=32,H=38,C=40,T=39,q=37,N=function(e,t){var n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;return!!n&&n.call(e,t)},_=n("aa002c9ecdc30c05062b"),P=n.n(_),F=n("a8f8105d2d40178f277f"),B=function(){function e(t){b()(this,e),this.props=t,this.render(),this.setEventListeners()}return g()(e,[{key:"updateProps",value:function(e){this.props=p()({},this.props,e),this.render(),-1===e.focusedIndex&&this.focus()}},{key:"setEventListeners",value:function(){var e,t,n=this.props.container;n.addEventListener("click",f()(e=this.clickHandler).call(e,this)),n.addEventListener("keydown",f()(t=this.onKeyDown).call(t,this))}},{key:"onKeyDown",value:function(e){var t=this.props,n=t.unselectOption,s=t.focusToggle;if(46===e.keyCode||8===e.keyCode){e.preventDefault();var a=e.target.getElementsByTagName("input");n(x()(a,1)[0].value),s()}}},{key:"clickHandler",value:function(e){var t=this.props,n=t.isOpen,s=t.openMenu,a=t.unselectOption,i=t.focusToggle,c=e.target;N(c,'[aria-label="close"]')||N(c,'span[aria-label="'.concat(P()("txt.help_center.views.requests.new.multiselect_remove_value"),'"]'))?a(e.target.nextElementSibling.value):n||s(),i()}},{key:"focus",value:function(){this.props.container.focus()}},{key:"render",value:function(){var e,t=this.props,n=t.container,s=t.selectedOptions,a=t.attributes,i=t.isOpen,o=F.a.get("theming_api_version");n.tabIndex=0,n.id=a.id,n.setAttribute("aria-required",a["aria-required"]),n.setAttribute("aria-describedby",a["aria-describedby"]),n.setAttribute("aria-labelledby",a["aria-labelledby"]),n.setAttribute("role","listbox"),n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-expanded",i),n.innerHTML=c()(e='\n      <ul role="listbox" aria-labelledby="'.concat(a.id,'_label">\n        ')).call(e,m()(s).call(s,(function(e){var t,n,s;return c()(t=c()(n=c()(s='\n            <li tabindex="0" role="option">\n              <span>'.concat(e.label,'</span>\n              <span aria-label="')).call(s,1===o?"close":P()("txt.help_center.views.requests.new.multiselect_remove_value"),'"></span>\n              <input name="')).call(n,a.name,'[]" value="')).call(t,e.value,'" type="hidden"/>\n            </li>\n          ')})).join(""),"</ul>\n    ")}}]),e}(),D=n("9466c4bf0b991fb30fa6"),j=n.n(D),J=n("549a709a8f94b14e0e58"),K=n.n(J),z=function(){function e(t){b()(this,e),this.props=t,this.render(),this.setEventListeners()}return g()(e,[{key:"updateProps",value:function(e){var t=this.props,n=t.options,s=t.selectedOptions,a=e.options,i=e.selectedOptions;if(this.props=p()({},this.props,e),n!==a){var c=a[0].parent===n;this.render(c)}else s.length!==i.length&&this.updateCheckboxes(s,i);this.focusCurrentOption()}},{key:"setEventListeners",value:function(){var e,t,n=this.props.container;n.addEventListener("click",f()(e=this.clickHandler).call(e,this)),n.addEventListener("mouseover",f()(t=this.hoverHandler).call(t,this))}},{key:"clickHandler",value:function(e){var t=this.props,n=t.focusOption,s=t.selectFocused,a=e.target;if(N(a,"[data-index] label")){var i=K()(a.parentElement.dataset.index,10);e.preventDefault(),n(i),s()}}},{key:"hoverHandler",value:function(e){var t=this.props.focusOption,n=e.target;N(n,"[data-index] label")&&t(K()(n.parentElement.dataset.index,10))}},{key:"updateCheckboxes",value:function(e,t){var n=this.props.container,s=m()(e).call(e,(function(e){return e.value})),i=m()(t).call(t,(function(e){return e.value})),c=a()(i).call(i,(function(e){return-1===u()(s).call(s,e)})),o=a()(s).call(s,(function(e){return-1===u()(i).call(i,e)}));I()(c).call(c,(function(e){var t=n.querySelector("input[value='".concat(e,"']"));t&&(t.checked=!0,t.parentElement.parentElement.setAttribute("aria-checked","true"))})),I()(o).call(o,(function(e){var t=n.querySelector("input[value='".concat(e,"']"));t&&(t.checked=!1,t.parentElement.parentElement.setAttribute("aria-checked","false"))}))}},{key:"focusCurrentOption",value:function(){var e=this.props,t=e.container,n=e.focusedIndex,s=t.querySelector('[data-index="'.concat(n,'"]'));s&&s.focus()}},{key:"createMenu",value:function(){var e=this.props,t=e.options,n=e.selectedOptions,s=document.createElement("ul");return s.setAttribute("role","listbox"),s.innerHTML=m()(t).call(t,(function(e,t){var s,i,o,r,l,u,d,p,h,f,v=!!e.parent,b=!!e.options,k=!v&&!b,g=e.value&&a()(n).call(n,(function(t){return t.value===e.value})).length>0,y=c()(s=c()(i=c()(o=c()(r=c()(l=c()(u=c()(d=c()(p=c()(h='\n          <li\n            tabindex="-1"\n            data-index="'.concat(t,'"\n            ')).call(h,v?"data-back":"","\n            ")).call(p,b?"data-menu":"",'\n            role="menuitemcheckbox"\n            ')).call(d,k&&g?'aria-checked="true"':"","\n            ")).call(u,k&&!g?'aria-checked="false"':"","\n            ")).call(l,b||v?'aria-selected="false"':"","\n            ")).call(r,b?'aria-expanded="false"':"","\n            ")).call(o,v?'aria-expanded="true"':"","\n          >\n            <label>\n              ")).call(i,k?c()(f='<input\n                    value="'.concat(e.value,'"\n                    tabIndex="-1"\n                    ')).call(f,g?"checked":"",'\n                    type="checkbox"\n                  />'):'<input disabled aria-hidden="true" type="checkbox"/>',"\n              ")).call(s,v?P()("txt.help_center.views.admin.shared.back"):e.label,"\n            </label>\n          </li>\n        ");return y.replace(/\n/g,"").replace(/[\s ]+</g,"<").replace(/>[\s ]+</g,"><").replace(/>[\s ]+/g,">")})).join(""),s}},{key:"render",value:function(e){var t=this,n=this.props.container,s=n.children[0],a=this.createMenu();return s&&e?(s.insertAdjacentElement("afterend",a),n.classList.add("forward"),void j()((function(){s.parentNode.removeChild(s),n.classList.remove("forward"),t.focusCurrentOption()}),200)):s&&!e?(s.insertAdjacentElement("beforebegin",a),n.classList.add("back"),void j()((function(){s.parentNode.removeChild(s),n.classList.remove("back"),t.focusCurrentOption()}),200)):void n.appendChild(a)}}]),e}(),X=L,G=M,Q=A,R=H,U=C,V=T,W=q,Y=function(){function e(t){var n,s,a,i,c,o,r,l,u,d,p,h;b()(this,e),this.props=t,this.views={},this.state={isOpen:!1,focusedIndex:0,options:t.options,selectedOptions:t.selectedOptions},this.openMenu=f()(n=this.openMenu).call(n,this),this.closeMenu=f()(s=this.closeMenu).call(s,this),this.unselectOption=f()(a=this.unselectOption).call(a,this),this.toggleOption=f()(i=this.toggleOption).call(i,this),this.goBack=f()(c=this.goBack).call(c,this),this.goInto=f()(o=this.goInto).call(o,this),this.focusOption=f()(r=this.focusOption).call(r,this),this.focusPrevious=f()(l=this.focusPrevious).call(l,this),this.focusNext=f()(u=this.focusNext).call(u,this),this.focusToggle=f()(d=this.focusToggle).call(d,this),this.selectFocused=f()(p=this.selectFocused).call(p,this),this.focusHandler=f()(h=this.focusHandler).call(h,this),this.render(),this.setEventListeners()}return g()(e,[{key:"setState",value:function(e){this.state=p()({},this.state,e),this.update()}},{key:"setEventListeners",value:function(){var e,t=this.props.container;t.addEventListener("click",(function(e){return e.stopPropagation()})),t.addEventListener("keydown",f()(e=this.keyHandler).call(e,this))}},{key:"updateEventListeners",value:function(){var e=this.state.isOpen;document["".concat(e?"add":"remove","EventListener")]("click",this.closeMenu),document["".concat(e?"add":"remove","EventListener")]("focusin",this.focusHandler)}},{key:"focusHandler",value:function(e){this.props.container.contains(e.target)||this.setState({isOpen:!1})}},{key:"keyHandler",value:function(e){var t,n=this.state.isOpen;if(!n&&u()(t=[R,U,Q]).call(t,e.keyCode)>=0)return e.preventDefault(),this.openMenu(),void this.focusOption(0);if(n)switch(e.preventDefault(),e.keyCode){case R:this.focusPrevious();break;case U:this.focusNext();break;case V:this.goInto();break;case W:this.goBack();break;case X:case Q:this.selectFocused();break;case G:this.closeMenu(),this.focusToggle()}}},{key:"openMenu",value:function(){this.setState({isOpen:!0})}},{key:"closeMenu",value:function(){this.setState({isOpen:!1})}},{key:"selectOption",value:function(e){var t,n=this.state.selectedOptions;this.setState({selectedOptions:c()(t=[]).call(t,r()(n),[e])})}},{key:"unselectOption",value:function(e){var t=this.state.selectedOptions;this.setState({selectedOptions:a()(t).call(t,(function(t){return t.value!==e}))})}},{key:"isOptionSelected",value:function(e){var t=this.state.selectedOptions;return a()(t).call(t,(function(t){return t.value===e})).length>0}},{key:"toggleOption",value:function(){var e=this.state,t=e.focusedIndex,n=e.options[t];this.isOptionSelected(n.value)?this.unselectOption(n.value):this.selectOption(n)}},{key:"selectFocused",value:function(){var e=this.state,t=e.focusedIndex,n=e.options[t];n&&(n.parent?this.goBack():n.options?this.goInto():this.toggleOption())}},{key:"goBack",value:function(){var e=this.state,t=e.options[e.focusedIndex];t&&t.parent&&this.setState({options:t.parent,focusedIndex:0})}},{key:"goInto",value:function(){var e=this.state,t=e.options[e.focusedIndex];t&&t.options&&this.setState({options:t.options,focusedIndex:0})}},{key:"focusToggle",value:function(){this.setState({focusedIndex:-1})}},{key:"focusOption",value:function(e){this.setState({focusedIndex:e})}},{key:"focusPrevious",value:function(){var e=this.state.focusedIndex;-1!==e&&this.focusOption(e-1)}},{key:"focusNext",value:function(){var e=this.state,t=e.focusedIndex;t!==e.options.length-1&&this.focusOption(t+1)}},{key:"update",value:function(){this.views.toggle.updateProps(this.state),this.views.menu.updateProps(this.state),this.updateEventListeners()}},{key:"render",value:function(){var e=this.props.container;e.className="hc-multiselect",e.innerHTML='\n      <div class="hc-multiselect-toggle"></div>\n      <div class="hc-multiselect-menu"></div>\n    ',this.renderToggle(),this.renderMenu()}},{key:"renderToggle",value:function(){var e=this.openMenu,t=this.unselectOption,n=this.focusToggle,s=this.props,a=s.container,i=s.attributes,c=a.querySelector(".hc-multiselect-toggle");this.views.toggle=new B(p()({},this.state,{container:c,attributes:i,openMenu:e,unselectOption:t,focusToggle:n}))}},{key:"renderMenu",value:function(){var e=this.focusOption,t=this.selectFocused,n=this.props.container.querySelector(".hc-multiselect-menu");this.views.menu=new z(p()({},this.state,{container:n,focusOption:e,selectFocused:t}))}}]),e}();t.default=function(e){var t=JSON.parse(e.dataset.multiselect),n=JSON.parse(e.value)||[],s=function e(t,n){var s=[];return n&&s.push({parent:n}),I()(t).call(t,(function(t){s.push(t.options?p()({},t,{options:e(t.options,s)}):t)})),s}(t),a=function e(t,n){return w()(t).call(t,(function(t,s){return s.options&&(t=c()(t).call(t,e(s.options,n))),u()(n).call(n,s.value)>-1&&t.push(s),t}),[])}(t,n),i={id:e.getAttribute("id"),name:e.getAttribute("name"),"aria-required":e.getAttribute("aria-required"),"aria-describedby":e.getAttribute("aria-describedby"),"aria-labelledby":e.getAttribute("aria-labelledby")},o=document.createElement("div");return e.parentNode.replaceChild(o,e),new Y({options:s,selectedOptions:a,attributes:i,container:o})}},cba4fb50007f3a58b265:function(e,t,n){var s=n("21f13b043facf1c098ab");e.exports=s}}]);